<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0">






<meta name="description" content="少敲代码，多陪家人">
<meta property="og:type" content="website">
<meta property="og:title" content="seven-cm.blog">
<meta property="og:url" content="http://seven-cm.github.io/page/3/index.html">
<meta property="og:site_name" content="seven-cm.blog">
<meta property="og:description" content="少敲代码，多陪家人">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="seven-cm.blog">
<meta name="twitter:description" content="少敲代码，多陪家人">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://seven-cm.github.io/page/3/">





  <title> seven-cm.blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?fea19912a68edcd8dd8884f7fc44c677";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">seven-cm.blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://seven-cm.github.io/2018/05/27/小程序样例工程详解-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="seven-cm">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="seven-cm.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/05/27/小程序样例工程详解-1/" itemprop="url">
                  小程序样例工程详解 1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-27T08:04:37+08:00">
                2018-05-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近发布了一批搞笑的文字类小程序；故记录一下有关小程序的一些开发心得。开篇就拿样例工程入手。</p>
<p>此篇主要是介绍一下小程序样例工程的目录结构，以及小程序的文件构成。另外还对于自己认为callback获取用户信息的疑点做出了一些说明。</p>
<h1 id="样例工程"><a href="#样例工程" class="headerlink" title="样例工程"></a>样例工程</h1><h2 id="小程序样例工程（QuickStart）目录结构"><a href="#小程序样例工程（QuickStart）目录结构" class="headerlink" title="小程序样例工程（QuickStart）目录结构"></a>小程序样例工程（QuickStart）目录结构</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">│  <span class="selector-tag">app</span><span class="selector-class">.js</span></span><br><span class="line">│  <span class="selector-tag">app</span><span class="selector-class">.json</span></span><br><span class="line">│  <span class="selector-tag">app</span><span class="selector-class">.wxss</span></span><br><span class="line">│  <span class="selector-tag">jsconfig</span><span class="selector-class">.json</span></span><br><span class="line">│  <span class="selector-tag">project</span><span class="selector-class">.config</span><span class="selector-class">.json</span></span><br><span class="line">│</span><br><span class="line">├─<span class="selector-class">.vscode</span></span><br><span class="line">│      <span class="selector-tag">settings</span><span class="selector-class">.json</span></span><br><span class="line">│</span><br><span class="line">├─<span class="selector-tag">pages</span></span><br><span class="line">│  ├─<span class="selector-tag">index</span></span><br><span class="line">│  │      <span class="selector-tag">index</span><span class="selector-class">.js</span></span><br><span class="line">│  │      <span class="selector-tag">index</span><span class="selector-class">.wxml</span></span><br><span class="line">│  │      <span class="selector-tag">index</span><span class="selector-class">.wxss</span></span><br><span class="line">│  │</span><br><span class="line">│  └─<span class="selector-tag">logs</span></span><br><span class="line">│          <span class="selector-tag">logs</span><span class="selector-class">.js</span></span><br><span class="line">│          <span class="selector-tag">logs</span><span class="selector-class">.json</span></span><br><span class="line">│          <span class="selector-tag">logs</span><span class="selector-class">.wxml</span></span><br><span class="line">│          <span class="selector-tag">logs</span><span class="selector-class">.wxss</span></span><br><span class="line">│</span><br><span class="line">├─<span class="selector-tag">typings</span></span><br><span class="line">│      <span class="selector-tag">wx</span><span class="selector-class">.d</span><span class="selector-class">.ts</span></span><br><span class="line">│</span><br><span class="line">└─<span class="selector-tag">utils</span></span><br><span class="line">        <span class="selector-tag">util</span><span class="selector-class">.js</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：因我使用了vscode作为小程序的开发工具，故会自动增加<code>.vscode</code>以及<code>typings</code>(vscode小程序开发插件自动增加)目录</p>
</blockquote>
<p>官网中的API文档有提到不同文件的含义<br><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">.json</span> 后缀的 JSON 配置文件</span><br><span class="line"><span class="meta">.wxml</span> 后缀的 WXML 模板文件</span><br><span class="line"><span class="meta">.wxss</span> 后缀的 WXSS 样式文件</span><br><span class="line"><span class="meta">.js</span> 后缀的 <span class="keyword">JS</span> 脚本逻辑文件</span><br></pre></td></tr></table></figure></p>
<h3 id="JSON文件"><a href="#JSON文件" class="headerlink" title="JSON文件"></a>JSON文件</h3><p>在项目中有以下几个JSON文件 app.json、project.config.json、pages/logs/logs.json</p>
<h4 id="app-json"><a href="#app-json" class="headerlink" title="app.json"></a>app.json</h4><p>app.json 是对当前小程序的全局配置，包括了小程序的所有页面路径、界面表现、网络超时时间、底部 tab 等</p>
<p><code>pages</code>用于描述当前小程序所有页面路径（让微信客户端知道当前你的小程序页面定义在哪个目录）</p>
<p><code>window</code>定义小程序所有页面的顶部背景颜色。</p>
<h4 id="工具配置-project-config-json"><a href="#工具配置-project-config-json" class="headerlink" title="工具配置 project.config.json"></a>工具配置 project.config.json</h4><p>project.config.json 是指个性化的配置信息；如配置版本库、该小程序是发布到哪个appId，以及工程名等…</p>
<h4 id="页面配置-page-json"><a href="#页面配置-page-json" class="headerlink" title="页面配置 page.json"></a>页面配置 page.json</h4><p>为每个page定义顶部颜色、是否允许下拉刷新等</p>
<blockquote>
<p>该文件在page中可有可无，如果不存在，则默认为app.json的配置；存在则以该文件的配置为准。</p>
</blockquote>
<h3 id="WXML-模板"><a href="#WXML-模板" class="headerlink" title="WXML 模板"></a>WXML 模板</h3><p>WXML（WeiXin Markup Language）是框架设计的一套标签语言，结合基础组件、事件系统，可以构建出页面的结构。简单来说：WXML 充当类似 HTML 的角色。</p>
<p>而且小程序是基于MVVM的开发模式，对于已经熟悉Vue、React等前端开发框架的话，会很容易上手。另外有个WXML的一些数据绑定、事件等可参考官网API：<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/" target="_blank" rel="noopener">WXML</a></p>
<p>需要注意的是小程序本身已经封装了属于自身的标签: view, button, text 等等；具体用法可以在官网API中了解：<a href="https://developers.weixin.qq.com/miniprogram/dev/component/" target="_blank" rel="noopener">组件说明</a></p>
<h3 id="WXSS-样式"><a href="#WXSS-样式" class="headerlink" title="WXSS 样式"></a>WXSS 样式</h3><p>也就是小程序的页面样式，官网有提到<code>app.wxss 作为全局样式，会作用于当前小程序的所有页面，局部页面样式 page.wxss 仅对当前页面生效</code>。</p>
<p>另外<code>WXSS 在底层支持新的尺寸单位 rpx ，开发者可以免去换算的烦恼</code>。也就是说，rpx是类似于rem等单位尺寸；但rpx不需要要增加根大小，直接使用即可。</p>
<h3 id="JS-交互逻辑"><a href="#JS-交互逻辑" class="headerlink" title="JS 交互逻辑"></a>JS 交互逻辑</h3><p>该文件是作为小程序的交互逻辑文件；处理相关交互逻辑。<br>在此可查看与小程序交互逻辑API：<a href="https://developers.weixin.qq.com/miniprogram/dev/api/" target="_blank" rel="noopener">交互逻辑API</a></p>
<h2 id="小程序的启动"><a href="#小程序的启动" class="headerlink" title="小程序的启动"></a>小程序的启动</h2><p><code>微信客户端在打开小程序之前，会把整个小程序的代码包下载到本地。</code></p>
<p><code>小程序启动之后，在 app.js 定义的 App 实例的 onLaunch 回调会被执行</code></p>
<p><code>整个小程序只有一个 App 实例，全部页面共享</code></p>
<p> <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/app.html" target="_blank" rel="noopener">App实例相关回调函数说明</a></p>
<h2 id="对于样例工程中，callback的理解"><a href="#对于样例工程中，callback的理解" class="headerlink" title="对于样例工程中，callback的理解"></a>对于样例工程中，callback的理解</h2><p>下面先看看样例工程中的app.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app.js</span></span><br><span class="line">App(&#123;</span><br><span class="line">  onLaunch: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 展示本地存储能力</span></span><br><span class="line">    <span class="keyword">var</span> logs = wx.getStorageSync(<span class="string">'logs'</span>) || []</span><br><span class="line">    logs.unshift(<span class="built_in">Date</span>.now())</span><br><span class="line">    wx.setStorageSync(<span class="string">'logs'</span>, logs)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 登录</span></span><br><span class="line">    wx.login(&#123;</span><br><span class="line">      success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 发送 res.code 到后台换取 openId, sessionKey, unionId</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 获取用户信息</span></span><br><span class="line">    wx.getSetting(&#123;</span><br><span class="line">      success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.authSetting[<span class="string">'scope.userInfo'</span>]) &#123;</span><br><span class="line">          <span class="comment">// 已经授权，可以直接调用 getUserInfo 获取头像昵称，不会弹框</span></span><br><span class="line">          wx.getUserInfo(&#123;</span><br><span class="line">            success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">              <span class="comment">// 可以将 res 发送给后台解码出 unionId</span></span><br><span class="line">              <span class="keyword">this</span>.globalData.userInfo = res.userInfo</span><br><span class="line"></span><br><span class="line">              <span class="comment">// 由于 getUserInfo 是网络请求，可能会在 Page.onLoad 之后才返回</span></span><br><span class="line">              <span class="comment">// 所以此处加入 callback 以防止这种情况</span></span><br><span class="line">              <span class="keyword">if</span> (<span class="keyword">this</span>.userInfoReadyCallback) &#123;</span><br><span class="line">                <span class="keyword">this</span>.userInfoReadyCallback(res)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  globalData: &#123;</span><br><span class="line">    userInfo: <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>上面有关callback的的疑问大多都在<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.userInfoReadyCallback) &#123;</span><br><span class="line">    <span class="keyword">this</span>.userInfoReadyCallback(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>其实 userInfoReadyCallback 可以换成你想要的命名。</p>
<p>我们在index.js中可以看到有这样的代码:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = getApp()</span><br><span class="line">......</span><br><span class="line"> <span class="comment">// 所以此处加入 callback 以防止这种情况</span></span><br><span class="line">app.userInfoReadyCallback = <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">this</span>.setData(&#123;</span><br><span class="line">    userInfo: res.userInfo,</span><br><span class="line">    hasUserInfo: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">......</span><br></pre></td></tr></table></figure></p>
<p>结合上面的代码，我们不难理上面的代码：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//app.js</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.userInfoReadyCallback) &#123; <span class="comment">//是否定义了userInfoReadyCallback</span></span><br><span class="line">    <span class="keyword">this</span>.userInfoReadyCallback(res) <span class="comment">//定义后就调用该函数，并且传入res的参数信息</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="comment">//此处定义了function userInfoReadyCallback(res)，注意app.userInfoReadyCallback；也就是在app.js中定义了userInfoReadyCallback；故在执行获取用户信息的时候，会将用户信息设置到index.wxml页面的data中</span></span><br><span class="line">app.userInfoReadyCallback = <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">this</span>.setData(&#123;</span><br><span class="line">    userInfo: res.userInfo,</span><br><span class="line">    hasUserInfo: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>最后有关 js 的 callback 可以参考一下：<a href="http://javascriptissexy.com/understand-javascript-callback-functions-and-use-them/" target="_blank" rel="noopener">Understand JavaScript Callback Functions and Use Them</a> 文章。</p>
<p>后续将介绍，在小程序中使用promise。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://seven-cm.github.io/2018/05/07/近况/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="seven-cm">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="seven-cm.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/05/07/近况/" itemprop="url">
                  近况
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-07T20:34:29+08:00">
                2018-05-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>因最近在做微信小程序项目，故顺便熟悉一下vue。用了差不多一周的小项目实训来学习vue；而后真真地感受到了vue的强大。</p>
<h2 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h2><p>后续会出一些和小程序以及vue相关的的心得文章。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://seven-cm.github.io/2018/03/27/小程序入门经历/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="seven-cm">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="seven-cm.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/03/27/小程序入门经历/" itemprop="url">
                  小程序入门经历
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-27T22:31:15+08:00">
                2018-03-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近需要做小程序项目,而自己对小程序的构成也不是很熟悉.故记录下对小程序学习的经历.</p>
<h2 id="第一步-先了解小程序的构成"><a href="#第一步-先了解小程序的构成" class="headerlink" title="第一步:先了解小程序的构成"></a>第一步:先了解小程序的构成</h2><p>最开始当然是先看小程序的官方文档了.<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/quickstart/basic/getting-started.html" target="_blank" rel="noopener">小程序起步</a>;先按里面的步骤搭建一个简单的小程序.</p>
<h3 id="小程序的构成"><a href="#小程序的构成" class="headerlink" title="小程序的构成"></a>小程序的构成</h3><ol>
<li>JSON配置</li>
<li>WXML模板</li>
<li>WXSS样式</li>
<li>JS逻辑交互</li>
</ol>
<p>其他的就不再在这里阐述了.按官方的说明,个人是这样理解上面的几个文件的:</p>
<blockquote>
<p>JSON配置: 系统级参数配置</p>
</blockquote>
<blockquote>
<p>WXML模板: 页面呈现:可以理解为view</p>
</blockquote>
<blockquote>
<p>WXSS样式: 其实是CSS</p>
</blockquote>
<blockquote>
<p>JS逻辑交互: 这个就不用多说了</p>
</blockquote>
<p>到此,我们已经了解了小程序的初步构成了.那该如何去构建一个有点样子的小程序?其实我们不用着急,还是从网上找一个有丰富呈现的小程序.在github中找到了:<a href="https://github.com/ZhangHangwei/WXBaiSi" target="_blank" rel="noopener">微信小程序 仿百思不得姐</a></p>
<p>导入到开发工具,到此,一个有模有样的小程序已经呈现在面前了</p>
<h2 id="第二步-学习"><a href="#第二步-学习" class="headerlink" title="第二步:学习"></a>第二步:学习</h2><p>从上述例子中,知道了</p>
<ol>
<li>小程序还可以像vue那样,使用template,也就是小程序里面的block;</li>
<li>了解到了小程序对话框,提示等内置api</li>
</ol>
<p>当然,该小程序还有一些bug,这些就不在这里作讨论了.</p>
<h2 id="第三步-开发工具"><a href="#第三步-开发工具" class="headerlink" title="第三步:开发工具"></a>第三步:开发工具</h2><p>对于官方的工具,我还是不太喜欢,主要是对于写css我还是喜欢用less.故我使用了vscode作为小程序的开发工具,因在vscode中找了与小程序相关的插件,能根据less自动生成为小程序的wxss文件</p>
<h2 id="第四步-了解Promise与callback"><a href="#第四步-了解Promise与callback" class="headerlink" title="第四步:了解Promise与callback"></a>第四步:了解Promise与callback</h2><p>既然是有一定逻辑的小程序,很可能我们需要获取用户的openId,昵称等信息.这里就有一个问题了,在页面启动的时候,常常是openId还没有拿到,我们就向自己的后台发送请求了.这里我使用到了ES6的Promise,小程序已经支持.对于callback,这个可以参考我们第一次构建简单小程序里面,在页面启动的时候,判断是否已经获取到用户信息的那段js.</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>等项目完成后,再把其中的开发经验详细写一下.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://seven-cm.github.io/2018/03/09/生产环境Tomcat启动失败/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="seven-cm">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="seven-cm.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/03/09/生产环境Tomcat启动失败/" itemprop="url">
                  生产环境Tomcat启动失败
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-09T20:36:01+08:00">
                2018-03-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>今天企业微信应用一直在发警报,某个采购商不接收我们的回调数据.他们开发又没有时间处理该问题.只有对该采购商的回调回写的数据不作判断了.于是快速定位代码,加入判断逻辑语句.测试无问题,可以发布到线上了.</p>
<p>打开Jenkins,爽快输入账号密码,点击发布.然而,tomcat停止后再也没有起来.</p>
<h2 id="疑问"><a href="#疑问" class="headerlink" title="疑问"></a>疑问</h2><p>一直以来,使用Jenkins发布是没有任何问题的啊;会不会有是代码有问题.于是快速回滚线上代码.然而tomcat还是起不来.</p>
<h2 id="先不管那么多-先看看tomcat的日志"><a href="#先不管那么多-先看看tomcat的日志" class="headerlink" title="先不管那么多,先看看tomcat的日志"></a>先不管那么多,先看看tomcat的日志</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Java HotSpot(TM) 64-Bit<span class="built_in"> Server </span>VM warning: INFO: os::commit_memory(0x00000000c8000000, 805306368, 0) failed; <span class="attribute">error</span>=<span class="string">'Cannot allocate memory'</span> (<span class="attribute">errno</span>=12)</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># There is insufficient memory for the Java Runtime Environment to continue.</span></span><br><span class="line"><span class="comment"># Native memory allocation (malloc) failed to allocate 805306368 bytes for committing reserved memory.</span></span><br><span class="line"><span class="comment"># An error report file with more information is saved as:</span></span><br><span class="line"><span class="comment"># /tmp/hs_err_pid9230.log</span></span><br></pre></td></tr></table></figure>
<p>一看,才知道内存不够,所以起不来:<code>Cannot allocate memory</code>;</p>
<p>使用 <code>free -mh</code> 命令一看,果然剩下可用内存: 150M.</p>
<blockquote>
<p>因是生产环境的发单业务,故先把自用的Admin给停了,保证发单业务正常运行.</p>
</blockquote>
<p>重启tomcat, 此时业务日志已正常输出.</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>重启服务的时候,不能单单看业务日志,还要看tomcat的启动日志.这样才能快速定位问题所在.而在此事件中,我仅仅是看业务日志,一开始还以为是业务日志的路径定位到错的位置了.找来找去,浪费7 8分钟.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://seven-cm.github.io/2018/03/08/有关IDEA的一些设置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="seven-cm">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="seven-cm.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/03/08/有关IDEA的一些设置/" itemprop="url">
                  有关IDEA的一些设置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-08T23:03:12+08:00">
                2018-03-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近想用体验一下IDEA,故下载了社区版进行体验.</p>
<h2 id="发现问题"><a href="#发现问题" class="headerlink" title="发现问题"></a>发现问题</h2><ol>
<li>快捷键和中文输入法冲突;</li>
<li>引入的包下的类,在类&gt;3个的时候会自动变成*引入.</li>
</ol>
<h2 id="解决引入-的问题"><a href="#解决引入-的问题" class="headerlink" title="解决引入*的问题"></a>解决引入*的问题</h2><p>在使用 Idea 的引入包的快捷键 <code>Ctrl+Alt+O</code> 的时候，当同一个包下的类引入超过3个就会自动变为*。这个方式看起来很怪异。解决方法：</p>
<blockquote>
<p>Editor-&gt;Code Style-&gt;Java-&gt;Imports<br>  <code>Class count to use import with &#39;*&#39;</code> 设置成 300  <code>Names count to use static import with &#39;*&#39;</code> 设置成300</p>
</blockquote>
<h2 id="解决智能提示的快捷与中文输入法冲突"><a href="#解决智能提示的快捷与中文输入法冲突" class="headerlink" title="解决智能提示的快捷与中文输入法冲突"></a>解决智能提示的快捷与中文输入法冲突</h2><h3 id="先设置智能示：忽略大小写敏感"><a href="#先设置智能示：忽略大小写敏感" class="headerlink" title="先设置智能示：忽略大小写敏感"></a>先设置智能示：忽略大小写敏感</h3><blockquote>
<p>Editor-&gt;General-&gt;Code Completion  <code>Case sensitive completion</code> 修改为 <code>None</code> 然后点击 <code>Apply</code></p>
</blockquote>
<h3 id="设置智能提示快捷键为-Alt-‘-‘"><a href="#设置智能提示快捷键为-Alt-‘-‘" class="headerlink" title="设置智能提示快捷键为 Alt + ‘/‘"></a>设置智能提示快捷键为 Alt + ‘/‘</h3><blockquote>
<p>Keymap-&gt; Main menu -&gt; Completion -&gt; 右键 <code>Clyclic Expand Word</code>  <code>移除Alt+&#39;/&#39;</code>的占用<br>    Keymap-&gt; Main menu -&gt; Completion -&gt; 右键<code>Basic Add Keyboard Shortcut</code> 然后按下 快捷键即可</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://seven-cm.github.io/2018/03/08/URLConnection中文问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="seven-cm">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="seven-cm.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/03/08/URLConnection中文问题/" itemprop="url">
                  URLConnection中文问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-08T22:49:36+08:00">
                2018-03-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>今天在做开发的时候,发现服务器上接受不了中文的post.先看看测试的代码<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">sendPost</span><span class="params">(String url, String param)</span> </span>&#123;</span><br><span class="line">		PrintWriter out = <span class="keyword">null</span>;</span><br><span class="line">		BufferedReader in = <span class="keyword">null</span>;</span><br><span class="line">		String result = <span class="string">""</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			URL realUrl = <span class="keyword">new</span> URL(url);</span><br><span class="line">			<span class="comment">// 打开和URL之间的连接</span></span><br><span class="line">			URLConnection conn = realUrl.openConnection();</span><br><span class="line">			<span class="comment">// 设置通用的请求属性</span></span><br><span class="line">			conn.setRequestProperty(<span class="string">"accept"</span>, <span class="string">"*/*"</span>);</span><br><span class="line">			conn.setRequestProperty(<span class="string">"connection"</span>, <span class="string">"Keep-Alive"</span>);</span><br><span class="line">			conn.setRequestProperty(<span class="string">"user-agent"</span>, <span class="string">"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;SV1)"</span>);</span><br><span class="line">			<span class="comment">// 发送POST请求必须设置如下两行</span></span><br><span class="line">			conn.setDoOutput(<span class="keyword">true</span>);</span><br><span class="line">			conn.setDoInput(<span class="keyword">true</span>);</span><br><span class="line">			<span class="comment">// 获取URLConnection对象对应的输出流</span></span><br><span class="line">			out = <span class="keyword">new</span> PrintWriter(conn.getOutputStream());</span><br><span class="line">			<span class="comment">// 发送请求参数</span></span><br><span class="line">			out.print(param);</span><br><span class="line">			<span class="comment">// flush输出流的缓冲</span></span><br><span class="line">			out.flush();</span><br><span class="line">			<span class="comment">// 定义BufferedReader输入流来读取URL的响应</span></span><br><span class="line">			in = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(conn.getInputStream()));</span><br><span class="line">			String line;</span><br><span class="line">			<span class="keyword">while</span> ((line = in.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">				result += line;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			System.out.println(<span class="string">"发送 POST 请求出现异常！"</span> + e);</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 使用finally块来关闭输出流、输入流</span></span><br><span class="line">		<span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (out != <span class="keyword">null</span>) &#123;</span><br><span class="line">					out.close();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (in != <span class="keyword">null</span>) &#123;</span><br><span class="line">					in.close();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">				ex.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>使用上述代码,从windows环境下发送post数据到线上服务器,如果post数据中存在中文,则会抛出错误,接受不到数据的问题<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java.nio.charset.MalformedInputException: Input length = <span class="number">1</span>  </span><br><span class="line">    at java.nio.charset.CoderResult.throwException(CoderResult.java:<span class="number">260</span>)  </span><br><span class="line">    at java.nio.charset.CharsetDecoder.decode(CharsetDecoder.java:<span class="number">781</span>)  </span><br><span class="line">    at cn.fuxi.nio.ReadFile.main(ReadFile.java:<span class="number">37</span>)</span><br></pre></td></tr></table></figure></p>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>对<code>PrintWriter</code>的内容设置编码,代码如下:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> PrintWriter(<span class="keyword">new</span> OutputStreamWriter(conn.getOutputStream(), httpBuilder.getEncode()));</span><br></pre></td></tr></table></figure></p>
<h3 id="or-直接使用OutputStreamWriter"><a href="#or-直接使用OutputStreamWriter" class="headerlink" title="or 直接使用OutputStreamWriter"></a>or 直接使用OutputStreamWriter</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">sendPostWithContentType</span><span class="params">(String url, String param ,String content_type)</span> </span>&#123;</span><br><span class="line">    	OutputStreamWriter out = <span class="keyword">null</span>;</span><br><span class="line">        BufferedReader in = <span class="keyword">null</span>;</span><br><span class="line">        String result = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            URL realUrl = <span class="keyword">new</span> URL(url);</span><br><span class="line">            <span class="comment">// 打开和URL之间的连接</span></span><br><span class="line">            URLConnection conn = realUrl.openConnection();</span><br><span class="line">            <span class="comment">// 设置通用的请求属性</span></span><br><span class="line">            conn.setRequestProperty(<span class="string">"accept"</span>, <span class="string">"*/*"</span>);</span><br><span class="line">            conn.setRequestProperty(<span class="string">"connection"</span>, <span class="string">"Keep-Alive"</span>);</span><br><span class="line">            conn.setRequestProperty(<span class="string">"Content-Type"</span>, content_type);</span><br><span class="line">            conn.setRequestProperty(<span class="string">"user-agent"</span>,<span class="string">"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;SV1)"</span>);</span><br><span class="line"></span><br><span class="line">            conn.setConnectTimeout(<span class="number">50000</span>);</span><br><span class="line">            conn.setReadTimeout(<span class="number">50000</span>);</span><br><span class="line">            <span class="comment">// 发送POST请求必须设置如下两行</span></span><br><span class="line">            conn.setDoOutput(<span class="keyword">true</span>);</span><br><span class="line">            conn.setDoInput(<span class="keyword">true</span>);</span><br><span class="line">            <span class="comment">// 获取URLConnection对象对应的输出流</span></span><br><span class="line">             out = <span class="keyword">new</span> OutputStreamWriter(conn  </span><br><span class="line">                    .getOutputStream(), <span class="string">"UTF-8"</span>);</span><br><span class="line">            <span class="comment">// 发送请求参数</span></span><br><span class="line">            out.write(param);</span><br><span class="line">            <span class="comment">// flush输出流的缓冲</span></span><br><span class="line">            out.flush();</span><br><span class="line">            <span class="comment">// 定义BufferedReader输入流来读取URL的响应</span></span><br><span class="line">            in = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">                    <span class="keyword">new</span> InputStreamReader(conn.getInputStream()));</span><br><span class="line">            String line;</span><br><span class="line">            <span class="keyword">while</span> ((line = in.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                result += line;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        	 log.info(e.getMessage(),e);</span><br><span class="line">             log.error(e.getMessage(),e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//使用finally块来关闭输出流、输入流</span></span><br><span class="line">        <span class="keyword">finally</span>&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(out!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                    out.close();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(in!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                    in.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">            	 log.info(e.getMessage(),e);</span><br><span class="line">                 log.error(e.getMessage(),e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://seven-cm.github.io/2018/03/04/记录在jsp中调试时-中文乱码的问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="seven-cm">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="seven-cm.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/03/04/记录在jsp中调试时-中文乱码的问题/" itemprop="url">
                  记录在jsp中调试时,中文乱码的问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-04T21:34:35+08:00">
                2018-03-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>为了方便直接在线上进行简单测试(微信企业付款到银行卡),故将相关的业务逻辑写在jsp中.</p>
<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"err_code"</span>:<span class="string">"PARAM_ERROR"</span>,<span class="attr">"err_code_des"</span>:<span class="string">"持卡人姓名有误，请检查"</span>,<span class="attr">"mch_id"</span>:<span class="string">"1***12"</span>,<span class="attr">"result_code"</span>:<span class="string">"FAIL"</span>,<span class="attr">"return_code"</span>:<span class="string">"SUCCESS"</span>,<span class="attr">"return_msg"</span>:<span class="string">"参数错误,请检查参数"</span>,<span class="attr">"sign_status"</span>:<span class="literal">false</span>&#125;</span><br></pre></td></tr></table></figure>
<p>此时认为是姓名中文不是UTF-8编码的问题,故增加了new String(str.getBytes(“UTF-8”),”UTF-8”); 然而,但是还是出现同样的问题.</p>
<p>不可能的啊…很多疑问.</p>
<p>然后细看JSP文件,才发现自己直接把头部声明jsp编码格式的代码给去掉了:<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@page <span class="attribute">language</span>=<span class="string">"java"</span> <span class="attribute">import</span>=<span class="string">"java.util.*"</span> <span class="attribute">pageEncoding</span>=<span class="string">"UTF-8"</span>%&gt;</span><br></pre></td></tr></table></figure></p>
<p>所以,还是要特别注意JSP页面的编码格式.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://seven-cm.github.io/2017/12/20/搭建python-selenium-phantomjs环境/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="seven-cm">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="seven-cm.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/12/20/搭建python-selenium-phantomjs环境/" itemprop="url">
                  搭建python selenium phantomjs环境
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-20T21:27:48+08:00">
                2017-12-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近要爬取淘宝的订单，但是从公司拿到的cookie放到服务器中爬的时候，淘宝并不会传会json数据，而是把所有的订单数据放到html中去，然后返回整个html页面；而且从js中拿到的数据也是乱七八糟，并不是想要的数据。而通过服务器代理，链接登陆，拿到的cookie则能正常返回json数据。</p>
<blockquote>
<p>猜测：淘宝对请求的IP做了记录，如果不是同一个区域的IP，则返回html页面信息。</p>
</blockquote>
<blockquote>
<p>问题来了：总不能一直代理服务器的IP去登陆淘宝，然后再拿cookie吧？而且这样也很麻烦。</p>
</blockquote>
<p>解决办法：在服务器中，直接模拟请求登陆淘宝。</p>
<h2 id="配置步骤"><a href="#配置步骤" class="headerlink" title="配置步骤"></a>配置步骤</h2><h3 id="安装所需selenium模块"><a href="#安装所需selenium模块" class="headerlink" title="安装所需selenium模块"></a>安装所需selenium模块</h3><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#阿里云服务器已经配置好了python，python-pip</span></span><br><span class="line"><span class="meta">#查看python版本</span></span><br><span class="line">python --version</span><br><span class="line"></span><br><span class="line">Python <span class="number">2.6</span><span class="number">.6</span></span><br><span class="line"><span class="meta">#不能直接用pip install selenium</span></span><br><span class="line"><span class="meta">#因为这样会安装最新版本的selenium的模块，可能会引起python的版本问题。故此处指定selenium的版本</span></span><br><span class="line">pip install selenium==<span class="number">2.53</span><span class="number">.6</span></span><br></pre></td></tr></table></figure>
<h3 id="下载phantomjs"><a href="#下载phantomjs" class="headerlink" title="下载phantomjs"></a>下载phantomjs</h3><p><a href="http://npm.taobao.org/dist/phantomjs/" target="_blank" rel="noopener">http://npm.taobao.org/dist/phantomjs/</a><br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="comment">//npm.taobao.org/mirrors/phantomjs/phantomjs-2.1.1-linux-x86_64.tar.bz2</span></span><br><span class="line">tar jxvf phantomjs<span class="number">-2.1</span><span class="number">.1</span>-linux-x86_64.tar.bz2</span><br></pre></td></tr></table></figure></p>
<h3 id="解决Status-code-was-127"><a href="#解决Status-code-was-127" class="headerlink" title="解决Status code was: 127"></a>解决Status code was: 127</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#安装<span class="selector-tag">phantomjs</span>依赖的<span class="selector-tag">libfontconfig</span></span><br><span class="line"><span class="selector-tag">yum</span> <span class="selector-tag">install</span> <span class="selector-tag">fontconfig</span> <span class="selector-tag">freetype</span> <span class="selector-tag">libfreetype</span><span class="selector-class">.so</span><span class="selector-class">.6</span> <span class="selector-tag">libfontconfig</span><span class="selector-class">.so</span><span class="selector-class">.1</span></span><br></pre></td></tr></table></figure>
<h3 id="最后当然是上代码了"><a href="#最后当然是上代码了" class="headerlink" title="最后当然是上代码了"></a>最后当然是上代码了</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment">#-*-coding:utf-8-*-</span></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver  </span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.desired_capabilities <span class="keyword">import</span> DesiredCapabilities</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.action_chains <span class="keyword">import</span> ActionChains</span><br><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">dcap = dict(DesiredCapabilities.PHANTOMJS)</span><br><span class="line">dcap[<span class="string">"phantomjs.page.settings.userAgent"</span>] = (</span><br><span class="line">    <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"</span></span><br><span class="line">)</span><br><span class="line">driver = webdriver.PhantomJS(executable_path=<span class="string">'/opt/selenium/phantomjs-2.1.1-linux-x86_64/bin/phantomjs'</span>,desired_capabilities=dcap)  </span><br><span class="line"><span class="comment">#driver = webdriver.Firefox()  </span></span><br><span class="line">driver.viewportSize=&#123;<span class="string">'width'</span>:<span class="number">1024</span>,<span class="string">'height'</span>:<span class="number">800</span>&#125;</span><br><span class="line">driver.maximize_window()</span><br><span class="line"> </span><br><span class="line">driver.delete_all_cookies()</span><br><span class="line">driver.get(<span class="string">"https://login.taobao.com/member/login.jhtml?from=taobaoindex&amp;f=top&amp;style=&amp;sub=true&amp;redirect_url=https%3A%2F%2Fmyseller.taobao.com%2Fseller_admin.htm"</span>)</span><br><span class="line"> <span class="comment">#load the switch</span></span><br><span class="line">element=WebDriverWait(driver,<span class="number">60</span>).until(<span class="keyword">lambda</span> driver : driver.find_element_by_xpath(<span class="string">"//*[@id='J_Quick2Static']"</span>))</span><br><span class="line">element.click()</span><br><span class="line">driver.implicitly_wait(<span class="number">20</span>)</span><br><span class="line">username=driver.find_element_by_name(<span class="string">"TPL_username"</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> username.is_displayed:</span><br><span class="line">    driver.implicitly_wait(<span class="number">20</span>)</span><br><span class="line">    driver.find_element_by_xpath(<span class="string">"//*[@id='J_Quick2Static']"</span>).click()</span><br><span class="line">driver.implicitly_wait(<span class="number">20</span>)</span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment">#定位滑块元素,如果不存在，则跳出循环</span></span><br><span class="line">        show=driver.find_element_by_xpath(<span class="string">"//*[@id='nocaptcha']"</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> show.is_displayed():</span><br><span class="line">            <span class="keyword">break</span>        </span><br><span class="line">        source=driver.find_element_by_xpath(<span class="string">"//*[@id='nc_1_n1z']"</span>)  </span><br><span class="line">        <span class="comment">#定义鼠标拖放动作</span></span><br><span class="line">        ActionChains(driver).drag_and_drop_by_offset(source,<span class="number">400</span>,<span class="number">0</span>).perform()</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">        driver.save_screenshot(<span class="string">'login-screeshot-0.png'</span>)</span><br><span class="line">        <span class="comment">#查看是否认证成功，获取text值 //*[@id="nc_1__scale_text"]/span</span></span><br><span class="line">        text=driver.find_element_by_xpath(<span class="string">"//*[@id='nc_1__scale_text']/span"</span>)</span><br><span class="line">        <span class="keyword">if</span> text.text.startswith(<span class="string">u'验证通过'</span>):</span><br><span class="line">            print(<span class="string">'成功滑动'</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> text.text.startswith(<span class="string">u'请点击'</span>):</span><br><span class="line">            print(<span class="string">'成功滑动'</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> text.text.startswith(<span class="string">u'请按住'</span>):</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        driver.find_element_by_xpath(<span class="string">"//div[@id='havana_nco']/div/span/a"</span>).click()</span><br><span class="line">        print(e)  </span><br><span class="line">username.send_keys(<span class="string">u'xxxx'</span>)</span><br><span class="line">driver.find_element_by_name(<span class="string">"TPL_password"</span>).send_keys(<span class="string">"xxxxx"</span>)</span><br><span class="line">driver.implicitly_wait(<span class="number">20</span>)</span><br><span class="line">driver.find_element_by_xpath(<span class="string">"//*[@id='J_SubmitStatic']"</span>).click()</span><br><span class="line">time.sleep(<span class="number">20</span>)</span><br><span class="line">driver.save_screenshot(<span class="string">'login-screeshot-1.png'</span>)</span><br><span class="line">    <span class="comment">#以下是获得cookie代码</span></span><br><span class="line">cookie = [item[<span class="string">"name"</span>] + <span class="string">"="</span> + item[<span class="string">"value"</span>] <span class="keyword">for</span> item <span class="keyword">in</span> driver.get_cookies()]</span><br><span class="line">cookiestr = <span class="string">';'</span>.join(item <span class="keyword">for</span> item <span class="keyword">in</span> cookie)</span><br><span class="line"><span class="comment">#print cookiestr</span></span><br><span class="line">data=&#123;</span><br><span class="line"><span class="string">'cookie'</span>:cookiestr</span><br><span class="line">&#125;</span><br><span class="line">print(data)</span><br><span class="line"><span class="comment">#post cookie到接口</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    headers = &#123;<span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>&#125;</span><br><span class="line">    request = urllib2.Request(url=<span class="string">'http://127.0.0.1:18080/cookie/taobao'</span>, headers=headers, data=json.dumps(data))</span><br><span class="line">    response = urllib2.urlopen(request)</span><br><span class="line">    print(response.read())</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e) </span><br><span class="line">driver.close()</span><br><span class="line">driver.quit()</span><br><span class="line">sys.exit(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://seven-cm.github.io/2017/12/20/git-常用命令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="seven-cm">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="seven-cm.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/12/20/git-常用命令/" itemprop="url">
                  git 常用命令
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-20T00:11:16+08:00">
                2017-12-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="git？"><a href="#git？" class="headerlink" title="git？"></a>git？</h1><blockquote>
<p>Git is a free and open source distributed version control system designed to handle everything from small to very large projects with speed and efficiency.</p>
</blockquote>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><h3 id="git-初始化"><a href="#git-初始化" class="headerlink" title="git 初始化"></a>git 初始化</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cd</span> <span class="string">xxx</span></span><br><span class="line"><span class="attr">git</span> <span class="string">init</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>你所期望的那个文件夹xxx就成为了一个Git管理的仓库了 <a href="http://git.mydoc.io/?t=180691" target="_blank" rel="noopener">http://git.mydoc.io/?t=180691</a></p>
</blockquote>
<h3 id="git-配置用户名，邮箱地址"><a href="#git-配置用户名，邮箱地址" class="headerlink" title="git 配置用户名，邮箱地址"></a>git 配置用户名，邮箱地址</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git<span class="built_in"> config </span>user.name <span class="string">"xxxx"</span></span><br><span class="line">git<span class="built_in"> config </span>user.email <span class="string">"xxx@xxx"</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果需要配置全局用户，将在git config后面增加–global即可，如git config –global user.name “xxxx” 配置了一个全局用户名 “xxxx”</p>
</blockquote>
<h3 id="git-配置项目远程仓库地址"><a href="#git-配置项目远程仓库地址" class="headerlink" title="git 配置项目远程仓库地址"></a>git 配置项目远程仓库地址</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="keyword">add</span> origin https:<span class="comment">//xxxx.git</span></span><br></pre></td></tr></table></figure>
<h3 id="git-添加提交文件"><a href="#git-添加提交文件" class="headerlink" title="git 添加提交文件"></a>git 添加提交文件</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">add</span><span class="bash"> xxx</span></span><br><span class="line">git <span class="keyword">add</span><span class="bash"> .</span></span><br><span class="line">git commit -m <span class="string">"注释"</span></span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
<h3 id="git-拉取文件"><a href="#git-拉取文件" class="headerlink" title="git 拉取文件"></a>git 拉取文件</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin <span class="literal">master</span></span><br></pre></td></tr></table></figure>
<h3 id="git-冲突合并"><a href="#git-冲突合并" class="headerlink" title="git 冲突合并"></a>git 冲突合并</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">git</span> <span class="keyword">add </span>.</span><br><span class="line"><span class="symbol">git</span> commit -m <span class="string">"fixed conflicts"</span></span><br><span class="line"><span class="symbol">git</span> <span class="keyword">push </span>origin master`</span><br></pre></td></tr></table></figure>
<blockquote>
<p>参考码云：<a href="http://git.mydoc.io/?t=83148" target="_blank" rel="noopener">http://git.mydoc.io/?t=83148</a> 其实就是把冲突文件中的冲突信息处理后，提交即可。</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://seven-cm.github.io/2017/12/19/README/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="seven-cm">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="seven-cm.blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/12/19/README/" itemprop="url">
                  README
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-19T23:56:20+08:00">
                2017-12-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="README"><a href="#README" class="headerlink" title="README"></a>README</h1><p>为了方便写日志，今天把在Ubuntu中的文章都上传一份到了码云仓库中，这样一来，即使我在windows中写新的工作日志，也能通过仓库同步到Ubuntu中去了。</p>
<p>一句话，感谢红薯的码云~。</p>
<p>另外，用VS Code，能直接用其中的终端来敲命令行，实在是太爽了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="seven-cm">
          <p class="site-author-name" itemprop="name">seven-cm</p>
           
              <p class="site-description motion-element" itemprop="description">少敲代码，多陪家人</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">80</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">100</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/seven-cm" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">seven-cm</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  







  





  

  

  

  

  

</body>
</html>
